(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(16),r=a.n(i),c=a(8),o=a(1),l=a(2),d=a(4),u=a(3),p=a(5),m=a(7),h=a.n(m),b=(a(42),function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar navbar-inverse bg-primary navbar-fixed-top"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"navbar-header"},s.a.createElement("h3",null,"Gradebook")),s.a.createElement("div",{className:"editIcon"},s.a.createElement("i",{className:"far fa-edit",onClick:this.props.showSubjectAdd}))))}}]),t}(n.Component)),g=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"signin"},s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),s.a.createElement("input",{type:"email",className:"form-control",id:"userName","aria-describedby":"emailHelp",placeholder:"Enter email"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),s.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),s.a.createElement("div",{className:"form-check"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1",checked:!0,onChange:function(){}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember Me"))),s.a.createElement("button",{type:"submit",onClick:this.props.signOn.bind(this),className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.editMode?"border m-1 addSubject":"border m-1 addSubject hidden"},s.a.createElement("div",{className:"bg-primary top-stripe mb-3"}),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control ml-3",id:"newSubjectName",placeholder:"New Subject Name","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-primary mr-3",onClick:this.props.addSubject,type:"button"},"Add Subject"))))}}]),t}(n.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("form",{className:this.props.editMode?"border p-2 m-2 addForm":"border p-2 m-2 addForm hidden",id:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"addForm"},s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label"},"Assignment"),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("input",{type:"text",onChange:this.props.addAssignmentName.bind(this),className:"form-control",id:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"newAssignment",placeholder:"Assignment"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("label",{className:"col-sm-2 col-form-label"},"Description"),s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("textarea",{type:"text",onChange:this.props.addAssignmentDescription.bind(this),className:"form-control",id:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"newDescription",placeholder:"Description"}))),s.a.createElement("div",{className:"form-group row"},s.a.createElement("div",{className:"col-sm-10"},s.a.createElement("button",{type:"button",onClick:this.props.addAssignment.bind(this,this.props.subject),className:"btn btn-primary"},"Add Assignment"))))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={description:"inactive",visible:!0},a.showDescription=function(){"inactive"===a.state.description?a.setState({description:"active"}):a.setState({description:"inactive"})},a.dragStartHandler=function(){console.log("picked up"),a.setState({visible:!1})},a.dropHandler=function(){console.log("set down"),a.setState({visible:!0})},a.dragOverHandler=function(e){},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.hidden||!this.state.visible?"hidden":""},s.a.createElement("div",{id:this.props.id+"drag",draggable:"true",onDragStart:this.dragStartHandler.bind(this),onDragEnd:this.dropHandler,onDragOver:this.dragOverHandler.bind(this),style:{marginBottom:"1rem"},className:this.props.hidden?"hidden":"d-flex"},s.a.createElement("div",{className:"input-group "},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"text",style:{backgroundColor:"white"},readOnly:!this.props.editMode,onBlur:this.props.assignmentChange.bind(this,this.props.id,this.props.subject),onChange:function(t){return e.props.assignmentChangeHandler(t,e.props.id,e.props.subject)},className:"form-control assignmentItem",value:this.props.assignment}),s.a.createElement("div",{className:"input-group-append text-right"},s.a.createElement("input",{type:"number",className:"input-group-text gradeInput text-right ",onBlur:this.props.gradeChange.bind(this,this.props.id,this.props.assignment,this.props.subject,!1),id:this.props.id,defaultValue:this.props.grade}))),s.a.createElement("textarea",{className:"inactive"===this.state.description?"hidden":"",style:{width:"100%",borderRadius:"0 0 5px 5px"},readOnly:!this.props.editMode&&"readOnly",value:this.props.description}," ")),s.a.createElement("div",null,s.a.createElement("i",{className:"fas fa-info-circle",onClick:this.showDescription.bind(this)})),s.a.createElement("div",null,s.a.createElement("i",{className:"far fa-eye",id:this.props.id+"visability",onClick:this.props.setVisability.bind(this,this.props.id,this.props.subject)})),s.a.createElement("div",null,s.a.createElement("i",{id:this.props.id+"trash",className:this.props.editMode?"far fa-trash-alt ":"hidden",onClick:this.props.trashClick.bind(this,this.props.id,this.props.assignment,this.props.subject)}))))}}]),t}(n.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{id:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_"),key:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_"),className:"card m-1"},s.a.createElement("div",{className:"card-header bg-primary d-flex justify-content-between",id:this.props.subject,onClick:function(t){return e.props.panelMin(t,e.props.subject)}},s.a.createElement("h4",null,this.props.subject),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",null,s.a.createElement("i",{id:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"trash",className:this.props.editMode?"far fa-trash-alt":"hidden",onClick:this.props.subjectTrashClick.bind(this,this.props.subject)})))),s.a.createElement("div",{className:this.props.visible?"card-body":"card-body hidden"},s.a.createElement(j,{editMode:this.props.editMode,addAssignmentName:this.props.addAssignmentName,addAssignmentDescription:this.props.addAssignmentDescription,subject:this.props.subject,addAssignment:this.props.addAssignment}),this.props.fields.map(function(t){return t.hasOwnProperty("active")&&!t.active?null:s.a.createElement(v,{subject:e.props.subject,hidden:t.hidden,trashClick:e.props.trashClick,assignment:t.assignment,gradeChange:e.props.gradeChange,id:t.id,description:t.description,key:t.id,grade:t.grade,editMode:e.props.editMode,assignmentChange:e.props.assignmentChange,setVisability:e.props.setVisability,assignmentChangeHandler:e.props.assignmentChangeHandler})}),s.a.createElement("div",{className:"form-group row float-right"},s.a.createElement("label",{htmlFor:"",className:" col-form-label"},"Total: "),s.a.createElement("div",{style:{width:"100px"},className:"ml-1 mr-3"},s.a.createElement("div",{type:"text",className:"form-control text-right",id:this.props.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"total"},"0"))))))}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{style:{width:"100px",marginTop:"8px"},className:"form-label"},"Select Student:"),s.a.createElement("select",{style:{width:"100px"},className:"flex-2 form-control",id:"studentSelect",onChange:this.props.studentSelect},s.a.createElement("option",null),this.props.students.map(function(e){return s.a.createElement("option",{key:e},e)}))),s.a.createElement(f,{editMode:this.props.editMode,addSubject:this.props.addSubject}),this.props.subjects.map(function(t){return!1!==t.active?s.a.createElement(E,{editMode:e.props.editMode,panelMin:e.props.panelMin,key:t.subject,subject:t.subject,trashClick:e.props.trashClick,subjectTrashClick:e.props.subjectTrashClick,gradeChange:e.props.gradeChange,addAssignment:e.props.addAssignment,assignmentChange:e.props.assignmentChange,fields:t.assignments,visible:t.visible,addAssignmentName:e.props.addAssignmentName,addAssignmentDescription:e.props.addAssignmentDescription,setVisability:e.props.setVisability,assignmentChangeHandler:e.props.assignmentChangeHandler}):""}))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={authenticated:!1,teacher:"",currentStudent:"",availableStudents:"",subjects:[],editMode:!1,newAssignment:{name:"",description:""}},a.host="",a.showSubjectAdd=function(){a.state.editMode?a.setState({editMode:!1}):a.setState({editMode:!0})},a.addSubject=function(){var e=document.querySelector("#newSubjectName").value;if(0===a.state.subjects.filter(function(t){return t.subject===e}).length){var t=Object(c.a)(a.state.subjects);t.push({subject:e,assignments:[]}),a.setState({subjects:t}),h.a.post(a.host+"/newSubject",{teacher:a.state.teacher,student:a.state.currentStudent,subject:e}).then(function(e){document.querySelector("#newSubjectName").value=""})}else alert(e+" already exists")},a.addAssignment=function(e,t){var n={active:!0,id:"",assignment:a.state.newAssignment.name,description:a.state.newAssignment.description,grade:"0"},s=Object(c.a)(a.state.subjects);s.forEach(function(t){t.subject===e&&(n.id=e.replace(/[^A-Z\-0-9]+/gi,"_")+(t.assignments.length+1),t.assignments.push(n))}),a.setState({subjects:s}),n.teacher=a.state.teacher,n.student=a.state.currentStudent,n.subject=e,h.a.post(a.host+"/newAssignment",n).then(function(t){document.querySelector("#"+n.id+"trash").classList.remove("hidden"),document.querySelector("#"+e.replace(/[^A-Z\-0-9]+/gi,"_")+"newAssignment").value="",document.querySelector("#"+e.replace(/[^A-Z\-0-9]+/gi,"_")+"newDescription").value=""})},a.subjectTrashClick=function(e){var t=Object(c.a)(a.state.subjects);t.filter(function(t){return t.subject===e})[0].active=!1,a.setState({newState:t}),h.a.post(a.host+"/removeSubject",{subject:e,teacher:a.state.teacher,student:a.state.currentStudent}).then(function(e){})},a.trashClick=function(e,t,n){var s=Object(c.a)(a.state.subjects);s.filter(function(e){return e.subject===n})[0].assignments.filter(function(t){return t.id===e})[0].active=!1,a.setState({newState:s}),a.gradeChange(e,t,n,!0),h.a.post(a.host+"/removeAssignment",{id:e,subject:n,teacher:a.state.teacher,student:a.state.currentStudent}).then(function(e){})},a.signOn=function(e){e.preventDefault(),h.a.post(a.host+"/getdata",{teacher:document.querySelector("#userName").value}).then(function(e){if("no record"!==e.data){var t=e.data.students.map(function(e){return e.name});a.setState({teacher:e.data.teacher,authenticated:!0,availableStudents:t})}})},a.gradeChange=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(c.a)(a.state.subjects),r=document.querySelector("#"+e).value;i.filter(function(e){return e.subject===n})[0].assignments.filter(function(t){return t.id===e})[0].grade=r,a.setState({newState:i}),document.querySelector("#"+n.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML=0,a.state.subjects.filter(function(e){return e.subject===n})[0].assignments.forEach(function(e){e.hasOwnProperty("active")&&!e.active?e.grade=0:e.grade||(e.grade=0),document.querySelector("#"+n.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML?document.querySelector("#"+n.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML=parseInt(document.querySelector("#"+n.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML)+parseInt(e.grade):document.querySelector("#"+n.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML=e.grade}),s||h.a.post(a.host+"/gradeUpdate",{id:e,teacher:a.state.teacher,student:a.state.currentStudent,assignment:t,subject:n,grade:r}).then(function(e){})},a.studentSelect=function(){var e=document.querySelector("#studentSelect").value;e.toLowerCase()!==a.state.currentStudent.toLowerCase()&&""!==e&&a.state.authenticated&&h.a.post(a.host+"/studentSelect",{student:e,teacher:a.state.teacher}).then(function(e){"no record"!==e.data?a.setState({currentStudent:e.data.name,subjects:e.data.subjects,dataLoaded:!1}):a.setState({currentStudent:"",subjects:[],dataLoaded:!1})})},a.assignmentChange=function(e,t,n){console.log("assignmentchange",n);var s=n.target.value;h.a.post(a.host+"/assignmentChange",{newAssignment:s,teacher:a.state.teacher,student:a.state.currentStudent,id:e,subject:t}).then(function(e){console.log(e)})},a.panelMin=function(e,t){console.log("yep",t);var n=Object(c.a)(a.state.subjects),s=n.filter(function(e){return e.subject===t})[0];!0===s.visible?s.visible=!1:s.visible=!0,a.setState({subjects:n})},a.addAssignmentName=function(e){a.setState({newAssignment:{name:e.target.value,description:a.state.newAssignment.description}})},a.addAssignmentDescription=function(e){a.setState({newAssignment:{name:a.state.newAssignment.name,description:e.target.value}})},a.setVisability=function(e,t,n){var s=Object(c.a)(a.state.subjects);s.filter(function(e){return e.subject===t})[0].assignments.filter(function(t){return t.id===e})[0].hidden=!0,a.setState({subjects:s})},a.assignmentChangeHandler=function(e,t,n){console.log(t,n,e);var s=Object(c.a)(a.state.subjects);s.filter(function(e){return e.subject===n})[0].assignments.filter(function(e){return e.id===t})[0].assignment=e.target.value,a.setState({sections:s})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.state.editMode&&document.querySelectorAll(".hidden").forEach(function(e){e.classList.remove("hidden")}),this.state.authenticated&&""!==this.state.currentStudent&&!this.state.dataLoaded&&(console.log("updated"),this.state.subjects.forEach(function(e){!1!==e.active&&e.assignments.forEach(function(t){t.grade||(t.grade=0),(t.active||!1===t.hasOwnProperty("active"))&&(console.log(e.subject.replace(/[^A-Z\-0-9]+/gi,"_")),document.querySelector("#"+e.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML?document.querySelector("#"+e.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML=parseInt(document.querySelector("#"+e.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML)+parseInt(t.grade):document.querySelector("#"+e.subject.replace(/[^A-Z\-0-9]+/gi,"_")+"total").innerHTML=t.grade)})}),this.setState({dataLoaded:!0}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(b,{showSubjectAdd:this.showSubjectAdd}),s.a.createElement("div",{className:"container"},!0===this.state.authenticated?s.a.createElement("div",null,s.a.createElement(y,{editMode:this.state.editMode,panelMin:this.panelMin,subjects:this.state.subjects,students:this.state.availableStudents,addSubject:this.addSubject,addAssignment:this.addAssignment,gradeChange:this.gradeChange,trashClick:this.trashClick,subjectTrashClick:this.subjectTrashClick,studentSelect:this.studentSelect,assignmentChange:this.assignmentChange,addAssignmentName:this.addAssignmentName,addAssignmentDescription:this.addAssignmentDescription,setVisability:this.setVisability,assignmentChangeHandler:this.assignmentChangeHandler})):s.a.createElement("div",null,s.a.createElement(g,{signOn:this.signOn}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.5d7b951f.chunk.js.map